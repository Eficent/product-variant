<?xml version="1.0" encoding="UTF-8"?>
<odoo>

     <record id="product_variant_manual_create_form" model="ir.ui.view">
        <field name="model">product.variant.manual.create</field>
        <field name="priority" eval="20"/>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="product_tmpl_id" readonly="1"/>
                </group>
                <group string="Add multiple variants">
                    <field name="item_ids" nolabel="1"
                           context="{'default_product_tmpl_id':product_tmpl_id}">
                        <form>
                            <style>
                                .btn-primary:nth-child(2){
                                    display:none !important;
                                }
                                .o_btn_remove{
                                    display:none !important;
                                }
                            </style>
                            <div class="alert alert-warning"
                                 role="alert"
                                 attrs="{'invisible': [('product_id', '=', False)]}">
                                <p>There is already a product in the system with the specified attributes!</p>
                            </div>
                            <group>
                                <group>
                                    <field name="product_tmpl_id" readonly="1"/>
                                    <field name="product_id" readonly="1"/>
                                </group>
                                <group>
                                    <field name="name"/>
                                    <field name="price_extra"/>
                                </group>
                            </group>
                            <field name="product_attribute_ids"
                                   context="{'default_owner_model': 'product.template', 'default_owner_id': id}">
                                <tree create="0" delete="0" editable="1">
                                    <field name="owner_model" invisible="1"/>
                                    <field name="owner_id" invisible="1"/>
                                    <field name="attribute_id" force_save="1"/>
                                    <field name="possible_value_ids" widget="many2many_tags" invisible="1"/>
                                    <field name="product_tmpl_id" invisible="1"/>
                                    <field name="value_id" context="{'show_attribute': False, 'default_attribute_id': attribute_id, 'template_for_attribute_value': product_tmpl_id}"/>
                                    <field name="price_extra"/>
                                </tree>
                            </field>
                        </form>
                    </field>
                </group>
                <footer>
                    <button name="create_product_variants" string="Create Variants" type="object" class="btn-primary"/>
                    <button string="Cancel" class="btn-default" special="cancel" />
                </footer>
            </form>
        </field>
     </record>

    <record id="product_variant_create_act" model="ir.actions.act_window">
        <field name="name">Create a new Variant</field>
        <field name="res_model">product.variant.manual.create</field>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="product_variant_manual_create_form"/>
        <field name="target">new</field>
    </record>

</odoo>